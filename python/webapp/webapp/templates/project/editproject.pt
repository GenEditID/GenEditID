<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n">


<div metal:use-macro="load: ../layout.pt">
  <div metal:fill-slot="content">
    <div class="content">
      <div class="container-fluid">
        <h1>Genome Editing Core</h1>
        <h2>Edit Project: ${project.geid}</h2>
        <hr />
        <p>
            <a href="${request.route_url('home')}">Back to projects list</a> |
            <a href="${request.route_url('project_view', projectid=project.id)}">Back to view project ${project.geid}</a>
        </p>
        <hr />

        <!-- Comments section ************************************************ -->
        <h3>Update comments</h3>
        <form id="edit_project_form" method="post" action="${request.route_url('project_edit', projectid=project.id)}">
          <p>
            Add/update comments:
            <input id="comments_text_field" type="text" name="comments" size="100" value="${project.comments}"></input>
            <input type="submit" name="submit_comments" value="Update"></input>
          </p>
        </form>
        <hr/>

        <!-- Upload section ************************************************** -->
        <h3>Experimental data</h3>
        <h4>Plates</h4>
        <table id="platetable" class="table table-hover table-condensed">
            <thead>
                <th tal:repeat="header plate_headers">${header}</th>
            </thead>
            <tr tal:repeat="row plate_rows">
                <td tal:repeat="cell row">${cell}</td>
            </tr>
        </table>

        <h4>Upload</h4>
        <form id="upload_project_form" method="post" action="${request.route_url('project_edit', projectid=project.id)}">
          <p>
            Select the plate layout
            <select id="plate_selector">
              <div tal:repeat="plate platelayouts">
                <option value="plate0" tal:attributes="value plate">${plate}</option>
              </div>
            </select>
            and the file to upload
            <input id="upload" name="layoutfile" type="file" value=""></input>
            <input type="submit" name="submit" value="Upload"></input>
          </p>
        </form>
        <hr />
        <p>
            <a href="${request.route_url('home')}">Back to projects list</a> |
            <a href="${request.route_url('project_view', projectid=project.id)}">Back to view project ${project.geid}</a>
        </p>
        <hr />

      </div>
    </div>
  </div>
</div>
<script>
  $(document).ready(
    function() {
        $('#platetable').DataTable({
        } );
    } );
</script>
